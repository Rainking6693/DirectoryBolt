{
  "timestamp": "2025-08-29T12:30:12.768Z",
  "baseUrl": "http://localhost:3000",
  "totalTests": 15,
  "passedTests": 15,
  "failedTests": 0,
  "tests": [
    {
      "name": "Server Health Check",
      "status": "PASSED",
      "duration": "928ms",
      "result": {
        "status": 200,
        "server_time": "2025-08-29T12:30:13.691Z",
        "uptime": 846
      },
      "error": null
    },
    {
      "name": "Valid Checkout Request",
      "status": "PASSED",
      "duration": "11ms",
      "result": {
        "status": 200,
        "has_checkout_url": true,
        "session_id": "cs_mock_1756470613707",
        "plan_details": {
          "name": "Starter",
          "price": 4900,
          "directory_limit": 25,
          "features": [
            "25 directory submissions per month",
            "Basic analytics",
            "Email support",
            "Standard processing speed"
          ]
        }
      },
      "error": null
    },
    {
      "name": "Missing Plan Parameter",
      "status": "PASSED",
      "duration": "10ms",
      "result": {
        "status": 400,
        "error_message": "Plan parameter is required. Available plans: starter, growth, professional, enterprise",
        "error_code": "VALIDATION_ERROR"
      },
      "error": null
    },
    {
      "name": "Invalid Plan",
      "status": "PASSED",
      "duration": "8ms",
      "result": {
        "status": 400,
        "error_message": "Invalid subscription plan: \"invalid_plan\". Available plans: starter, growth, professional, enterprise",
        "error_code": "VALIDATION_ERROR"
      },
      "error": null
    },
    {
      "name": "Missing User Data",
      "status": "PASSED",
      "duration": "9ms",
      "result": {
        "status": 400,
        "error_message": "User email and ID are required",
        "error_code": "VALIDATION_ERROR"
      },
      "error": null
    },
    {
      "name": "Empty Request Body",
      "status": "PASSED",
      "duration": "9ms",
      "result": {
        "status": 400,
        "error_message": "Plan parameter is required. Available plans: starter, growth, professional, enterprise",
        "error_code": "VALIDATION_ERROR"
      },
      "error": null
    },
    {
      "name": "Malformed JSON",
      "status": "PASSED",
      "duration": "9ms",
      "result": {
        "status": 400,
        "error_message": "Invalid JSON in request body",
        "error_code": "VALIDATION_ERROR"
      },
      "error": null
    },
    {
      "name": "GET Method (Should Fail)",
      "status": "PASSED",
      "duration": "9ms",
      "result": {
        "status": 405,
        "error_message": "Method not allowed",
        "allowed_methods": "POST"
      },
      "error": null
    },
    {
      "name": "Plan: starter",
      "status": "PASSED",
      "duration": "11ms",
      "result": {
        "status": 200,
        "plan_name": "Starter",
        "price": 4900,
        "checkout_url": "https://checkout.stripe.com/c/pay/mock_session_1756470613774"
      },
      "error": null
    },
    {
      "name": "Plan: growth",
      "status": "PASSED",
      "duration": "12ms",
      "result": {
        "status": 200,
        "plan_name": "Growth",
        "price": 7900,
        "checkout_url": "https://checkout.stripe.com/c/pay/mock_session_1756470613788"
      },
      "error": null
    },
    {
      "name": "Plan: professional",
      "status": "PASSED",
      "duration": "10ms",
      "result": {
        "status": 200,
        "plan_name": "Professional",
        "price": 12900,
        "checkout_url": "https://checkout.stripe.com/c/pay/mock_session_1756470613798"
      },
      "error": null
    },
    {
      "name": "Plan: enterprise",
      "status": "PASSED",
      "duration": "10ms",
      "result": {
        "status": 200,
        "plan_name": "Enterprise",
        "price": 29900,
        "checkout_url": "https://checkout.stripe.com/c/pay/mock_session_1756470613808"
      },
      "error": null
    },
    {
      "name": "Extended Trial Parameter",
      "status": "PASSED",
      "duration": "9ms",
      "result": {
        "status": 200,
        "trial_period_days": 21,
        "checkout_url": "https://checkout.stripe.com/c/pay/mock_session_1756470613817"
      },
      "error": null
    },
    {
      "name": "Large Payload",
      "status": "PASSED",
      "duration": "10ms",
      "result": {
        "status": 200,
        "payload_size": 10018,
        "success": true
      },
      "error": null
    },
    {
      "name": "Rapid Requests (Rate Limiting)",
      "status": "PASSED",
      "duration": "41ms",
      "result": {
        "total_requests": 10,
        "successful_requests": 10,
        "rate_limited_requests": 0,
        "status_distribution": {
          "200": 10
        }
      },
      "error": null
    }
  ],
  "summary": {
    "total_tests": 15,
    "passed": 15,
    "failed": 0,
    "success_rate": 100,
    "test_duration": 1096
  },
  "recommendations": []
}