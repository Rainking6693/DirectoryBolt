{
  "timestamp": "2025-08-29T12:26:57.847Z",
  "suite_version": "1.0.0",
  "execution_summary": {
    "total_scripts": 4,
    "completed_scripts": 1,
    "failed_scripts": 3,
    "overall_status": "FAILURE"
  },
  "script_results": {
    "Environment Validation": {
      "script": "Environment Validation",
      "path": "./scripts/stripe-environment-validator.js",
      "exit_code": 1,
      "duration": "87ms",
      "stdout": "[dotenv@17.2.1] injecting env (11) from .env.local,.env.production,.env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }\nüîç Starting Stripe Environment Validation...\n\n‚ÑπÔ∏è  [ENV_FILES] Checking environment files... \n‚úÖ [ENV_FILES] Found environment file: .env.local \n‚úÖ [ENV_FILES] Found environment file: .env.production \n‚ÑπÔ∏è  [SECRET_KEY] Validating STRIPE_SECRET_KEY... \n‚ÑπÔ∏è  [PUBLISHABLE_KEY] Validating STRIPE_PUBLISHABLE_KEY... \n‚úÖ [PUBLISHABLE_KEY] Valid Stripe publishable key found: TEST mode { key_type: 'test', key_length: 28 }\n‚ÑπÔ∏è  [KEY_CONSISTENCY] Validating key consistency... \n‚úÖ [KEY_CONSISTENCY] Keys are consistent: both are TEST keys \n‚ÑπÔ∏è  [PRICE_IDS] Validating Stripe price IDs... \n‚ÑπÔ∏è  [WEBHOOKS] Validating webhook configuration... \n‚ÑπÔ∏è  [NEXTAUTH] Validating NextAuth configuration... \n‚úÖ [NEXTAUTH] Valid NEXTAUTH_URL found: http://localhost:3000 \n‚ÑπÔ∏è  [CONNECTION] Testing Stripe API connection... \n‚ÑπÔ∏è  [PRICE_VALIDATION] Validating Stripe prices exist... \n\nüìä VALIDATION SUMMARY\n==================================================\n‚úÖ Passed: 5/10 checks\nüìà Success Rate: 50%\nüöÄ Launch Ready: NO\n‚ùå Errors: 0\n‚ö†Ô∏è  Warnings: 8\n\nüìÑ Detailed report saved to: C:\\Users\\Ben\\OneDrive\\Documents\\GitHub\\DirectoryBolt\\stripe-validation-report.json\n",
      "stderr": "‚ö†Ô∏è  [SECRET_KEY] Using mock secret key - API calls will fail \n‚ö†Ô∏è  [PRICE_IDS] STRIPE_STARTER_PRICE_ID appears to be a mock/test value { plan: 'starter', price_id: 'price_starter_test_123' }\n‚ö†Ô∏è  [PRICE_IDS] STRIPE_GROWTH_PRICE_ID appears to be a mock/test value { plan: 'growth', price_id: 'price_growth_test_123' }\n‚ö†Ô∏è  [PRICE_IDS] STRIPE_PROFESSIONAL_PRICE_ID appears to be a mock/test value { plan: 'professional', price_id: 'price_professional_test_123' }\n‚ö†Ô∏è  [PRICE_IDS] STRIPE_ENTERPRISE_PRICE_ID appears to be a mock/test value { plan: 'enterprise', price_id: 'price_enterprise_test_123' }\n‚ö†Ô∏è  [WEBHOOKS] STRIPE_WEBHOOK_SECRET is not set - webhooks may not work \n‚ö†Ô∏è  [CONNECTION] Cannot test connection - invalid or mock secret key \n‚ö†Ô∏è  [PRICE_VALIDATION] Cannot validate prices - invalid or mock secret key \n",
      "success": false,
      "timestamp": "2025-08-29T12:26:57.938Z"
    },
    "Product Validation": {
      "script": "Product Validation",
      "path": "./scripts/stripe-product-validator.js",
      "exit_code": 1,
      "duration": "86ms",
      "stdout": "[dotenv@17.2.1] injecting env (11) from .env.local,.env.production,.env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }\nüè∑Ô∏è  Starting Stripe Product Validation...\n\n‚ÑπÔ∏è  [INIT] Initializing Stripe connection... \n‚ÑπÔ∏è  [PLANS] Validating all subscription plans... \n‚ÑπÔ∏è  [PLANS] Validating Starter plan {\n  plan_key: 'starter',\n  env_var: 'STRIPE_STARTER_PRICE_ID',\n  price_id: 'price_starter_test_123',\n  expected_amount: 4900\n}\n‚ÑπÔ∏è  [PLANS] Validating Growth plan {\n  plan_key: 'growth',\n  env_var: 'STRIPE_GROWTH_PRICE_ID',\n  price_id: 'price_growth_test_123',\n  expected_amount: 7900\n}\n‚ÑπÔ∏è  [PLANS] Validating Professional plan {\n  plan_key: 'professional',\n  env_var: 'STRIPE_PROFESSIONAL_PRICE_ID',\n  price_id: 'price_professional_test_123',\n  expected_amount: 12900\n}\n‚ÑπÔ∏è  [PLANS] Validating Enterprise plan {\n  plan_key: 'enterprise',\n  env_var: 'STRIPE_ENTERPRISE_PRICE_ID',\n  price_id: 'price_enterprise_test_123',\n  expected_amount: 29900\n}\n\nüìä VALIDATION SUMMARY\n==================================================\n‚úÖ Passed: 0/20 checks\nüìà Success Rate: 0%\nüîó Stripe Connected: NO\nüí≥ All Prices Valid: NO\n‚ùå Errors: 0\n‚ö†Ô∏è  Warnings: 8\n\nüîç RECOMMENDATIONS:\n1. [CRITICAL] Some price IDs are invalid or not found in Stripe\n   - Verify price IDs exist in Stripe dashboard\n   - Check that prices are active\n   - Ensure price configuration matches expected values\n2. [HIGH] Cannot connect to Stripe API\n   - Verify STRIPE_SECRET_KEY is set correctly\n   - Check API key permissions\n   - Ensure API key is not revoked\n\nüìÑ Detailed report saved to: C:\\Users\\Ben\\OneDrive\\Documents\\GitHub\\DirectoryBolt\\stripe-product-validation-report.json\n",
      "stderr": "‚ö†Ô∏è  [INIT] Using mock Stripe key - cannot validate real products \n‚ö†Ô∏è  [LIST] Cannot list products - no Stripe connection \n‚ö†Ô∏è  [LIST] Cannot list prices - no Stripe connection \n‚ö†Ô∏è  [PRICE] Cannot validate price price_starter_test_123 - no Stripe connection \n‚ö†Ô∏è  [PRICE] Cannot validate price price_growth_test_123 - no Stripe connection \n‚ö†Ô∏è  [PRICE] Cannot validate price price_professional_test_123 - no Stripe connection \n‚ö†Ô∏è  [PRICE] Cannot validate price price_enterprise_test_123 - no Stripe connection \n‚ö†Ô∏è  [CREATE] Cannot create products - no Stripe connection \n",
      "success": false,
      "timestamp": "2025-08-29T12:26:58.025Z"
    },
    "API Debugging": {
      "script": "API Debugging",
      "path": "./scripts/stripe-api-debugger.js",
      "exit_code": 0,
      "duration": "4096ms",
      "stdout": "[dotenv@17.2.1] injecting env (11) from .env.local,.env.production,.env -- tip: üì° version env with Radar: https://dotenvx.com/radar\nüîß Starting Stripe API Debugging Suite...\n\nTesting endpoint: http://localhost:3000/api/create-checkout-session\n\n‚ÑπÔ∏è  Running test: Server Health Check \n‚úÖ Test passed: Server Health Check (2389ms) \n‚ÑπÔ∏è  Running test: Valid Checkout Request \n‚úÖ Test passed: Valid Checkout Request (1325ms) \n‚ÑπÔ∏è  Running test: Missing Plan Parameter \n‚úÖ Test passed: Missing Plan Parameter (14ms) \n‚ÑπÔ∏è  Running test: Invalid Plan \n‚úÖ Test passed: Invalid Plan (10ms) \n‚ÑπÔ∏è  Running test: Missing User Data \n‚úÖ Test passed: Missing User Data (10ms) \n‚ÑπÔ∏è  Running test: Empty Request Body \n‚úÖ Test passed: Empty Request Body (10ms) \n‚ÑπÔ∏è  Running test: Malformed JSON \n‚úÖ Test passed: Malformed JSON (10ms) \n‚ÑπÔ∏è  Running test: GET Method (Should Fail) \n‚úÖ Test passed: GET Method (Should Fail) (8ms) \n‚ÑπÔ∏è  Running test: Plan: starter \n‚úÖ Test passed: Plan: starter (13ms) \n‚ÑπÔ∏è  Running test: Plan: growth \n‚úÖ Test passed: Plan: growth (10ms) \n‚ÑπÔ∏è  Running test: Plan: professional \n‚úÖ Test passed: Plan: professional (8ms) \n‚ÑπÔ∏è  Running test: Plan: enterprise \n‚úÖ Test passed: Plan: enterprise (8ms) \n‚ÑπÔ∏è  Running test: Extended Trial Parameter \n‚úÖ Test passed: Extended Trial Parameter (8ms) \n‚ÑπÔ∏è  Running test: Large Payload \n‚úÖ Test passed: Large Payload (8ms) \n‚ÑπÔ∏è  Running test: Rapid Requests (Rate Limiting) \n‚úÖ Test passed: Rapid Requests (Rate Limiting) (43ms) \n\nüìä DEBUGGING SUMMARY\n==================================================\n‚úÖ Passed: 15/15\n‚ùå Failed: 0/15\nüìà Success Rate: 100%\n‚è±Ô∏è  Total Duration: 3874ms\n\nüìÑ Detailed report saved to: C:\\Users\\Ben\\OneDrive\\Documents\\GitHub\\DirectoryBolt\\stripe-api-debug-report.json\n",
      "stderr": "",
      "success": true,
      "timestamp": "2025-08-29T12:27:02.121Z"
    },
    "Complete Test Suite": {
      "script": "Complete Test Suite",
      "path": "./scripts/stripe-test-suite.js",
      "exit_code": 1,
      "duration": "9731ms",
      "stdout": "[dotenv@17.2.1] injecting env (11) from .env.local,.env.production,.env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }\n[dotenv@17.2.1] injecting env (0) from .env.local,.env.production,.env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com\n[dotenv@17.2.1] injecting env (0) from .env.local,.env.production,.env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }\n[dotenv@17.2.1] injecting env (0) from .env.local,.env.production,.env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild\nüß™ Starting Comprehensive Stripe Test Suite...\n\nTesting environment: http://localhost:3000\n\n\n============================================================\nüîß STEP 1: ENVIRONMENT VALIDATION\n============================================================\nüîç Starting Stripe Environment Validation...\n\n‚ÑπÔ∏è  [ENV_FILES] Checking environment files... \n‚úÖ [ENV_FILES] Found environment file: .env.local \n‚úÖ [ENV_FILES] Found environment file: .env.production \n‚ÑπÔ∏è  [SECRET_KEY] Validating STRIPE_SECRET_KEY... \n‚ÑπÔ∏è  [PUBLISHABLE_KEY] Validating STRIPE_PUBLISHABLE_KEY... \n‚úÖ [PUBLISHABLE_KEY] Valid Stripe publishable key found: TEST mode { key_type: 'test', key_length: 28 }\n‚ÑπÔ∏è  [KEY_CONSISTENCY] Validating key consistency... \n‚úÖ [KEY_CONSISTENCY] Keys are consistent: both are TEST keys \n‚ÑπÔ∏è  [PRICE_IDS] Validating Stripe price IDs... \n‚ÑπÔ∏è  [WEBHOOKS] Validating webhook configuration... \n‚ÑπÔ∏è  [NEXTAUTH] Validating NextAuth configuration... \n‚úÖ [NEXTAUTH] Valid NEXTAUTH_URL found: http://localhost:3000 \n‚ÑπÔ∏è  [CONNECTION] Testing Stripe API connection... \n‚ÑπÔ∏è  [PRICE_VALIDATION] Validating Stripe prices exist... \n\nüìä VALIDATION SUMMARY\n==================================================\n‚úÖ Passed: 5/10 checks\nüìà Success Rate: 50%\nüöÄ Launch Ready: NO\n‚ùå Errors: 0\n‚ö†Ô∏è  Warnings: 8\n\nüìÑ Detailed report saved to: C:\\Users\\Ben\\OneDrive\\Documents\\GitHub\\DirectoryBolt\\stripe-validation-report.json\n‚úÖ Environment validation completed: 50% success rate\n\n============================================================\nüîß STEP 2: PRODUCT VALIDATION\n============================================================\nüè∑Ô∏è  Starting Stripe Product Validation...\n\n‚ÑπÔ∏è  [INIT] Initializing Stripe connection... \n‚ÑπÔ∏è  [PLANS] Validating all subscription plans... \n‚ÑπÔ∏è  [PLANS] Validating Starter plan {\n  plan_key: 'starter',\n  env_var: 'STRIPE_STARTER_PRICE_ID',\n  price_id: 'price_starter_test_123',\n  expected_amount: 4900\n}\n‚ÑπÔ∏è  [PLANS] Validating Growth plan {\n  plan_key: 'growth',\n  env_var: 'STRIPE_GROWTH_PRICE_ID',\n  price_id: 'price_growth_test_123',\n  expected_amount: 7900\n}\n‚ÑπÔ∏è  [PLANS] Validating Professional plan {\n  plan_key: 'professional',\n  env_var: 'STRIPE_PROFESSIONAL_PRICE_ID',\n  price_id: 'price_professional_test_123',\n  expected_amount: 12900\n}\n‚ÑπÔ∏è  [PLANS] Validating Enterprise plan {\n  plan_key: 'enterprise',\n  env_var: 'STRIPE_ENTERPRISE_PRICE_ID',\n  price_id: 'price_enterprise_test_123',\n  expected_amount: 29900\n}\n\nüìä VALIDATION SUMMARY\n==================================================\n‚úÖ Passed: 0/20 checks\nüìà Success Rate: 0%\nüîó Stripe Connected: NO\nüí≥ All Prices Valid: NO\n‚ùå Errors: 0\n‚ö†Ô∏è  Warnings: 8\n\nüîç RECOMMENDATIONS:\n1. [CRITICAL] Some price IDs are invalid or not found in Stripe\n   - Verify price IDs exist in Stripe dashboard\n   - Check that prices are active\n   - Ensure price configuration matches expected values\n2. [HIGH] Cannot connect to Stripe API\n   - Verify STRIPE_SECRET_KEY is set correctly\n   - Check API key permissions\n   - Ensure API key is not revoked\n\nüìÑ Detailed report saved to: C:\\Users\\Ben\\OneDrive\\Documents\\GitHub\\DirectoryBolt\\stripe-product-validation-report.json\n‚úÖ Product validation completed: 0% success rate\n\n============================================================\nüîß STEP 3: API DEBUGGING\n============================================================\nüîß Starting Stripe API Debugging Suite...\n\nTesting endpoint: http://localhost:3000/api/create-checkout-session\n\n‚ÑπÔ∏è  Running test: Server Health Check \n‚ÑπÔ∏è  Running test: Valid Checkout Request \n‚úÖ Test passed: Valid Checkout Request (964ms) \n‚ÑπÔ∏è  Running test: Missing Plan Parameter \n‚úÖ Test passed: Missing Plan Parameter (297ms) \n‚ÑπÔ∏è  Running test: Invalid Plan \n‚úÖ Test passed: Invalid Plan (10ms) \n‚ÑπÔ∏è  Running test: Missing User Data \n‚úÖ Test passed: Missing User Data (8ms) \n‚ÑπÔ∏è  Running test: Empty Request Body \n‚úÖ Test passed: Empty Request Body (7ms) \n‚ÑπÔ∏è  Running test: Malformed JSON \n‚úÖ Test passed: Malformed JSON (8ms) \n‚ÑπÔ∏è  Running test: GET Method (Should Fail) \n‚úÖ Test passed: GET Method (Should Fail) (9ms) \n‚ÑπÔ∏è  Running test: Plan: starter \n‚úÖ Test passed: Plan: starter (9ms) \n‚ÑπÔ∏è  Running test: Plan: growth \n‚úÖ Test passed: Plan: growth (7ms) \n‚ÑπÔ∏è  Running test: Plan: professional \n‚úÖ Test passed: Plan: professional (7ms) \n‚ÑπÔ∏è  Running test: Plan: enterprise \n‚úÖ Test passed: Plan: enterprise (6ms) \n‚ÑπÔ∏è  Running test: Extended Trial Parameter \n‚úÖ Test passed: Extended Trial Parameter (7ms) \n‚ÑπÔ∏è  Running test: Large Payload \n‚úÖ Test passed: Large Payload (6ms) \n‚ÑπÔ∏è  Running test: Rapid Requests (Rate Limiting) \n‚úÖ Test passed: Rapid Requests (Rate Limiting) (31ms) \n\nüìä DEBUGGING SUMMARY\n==================================================\n‚úÖ Passed: 14/15\n‚ùå Failed: 1/15\nüìà Success Rate: 93%\n‚è±Ô∏è  Total Duration: 9482ms\n\nüîç RECOMMENDATIONS:\n1. [HIGH] FAILED_TESTS: 1 tests failed\n\nüìÑ Detailed report saved to: C:\\Users\\Ben\\OneDrive\\Documents\\GitHub\\DirectoryBolt\\stripe-api-debug-report.json\n‚úÖ API debugging completed: 93% success rate\n‚ÑπÔ∏è  Analyzing root causes...\n‚ÑπÔ∏è  Assessing launch readiness...\n‚ÑπÔ∏è  Generating recommendations...\n\n============================================================\nüîß FINAL RESULTS\n============================================================\nüéØ Overall Score: 26/100\nüöÄ Launch Ready: NO\nüö® Critical Issues: 4\n‚ö†Ô∏è  High Priority Issues: 0\nüõë Total Blockers: 3\n\nüîç ROOT CAUSES:\n1. Stripe Product Configuration Issues (Impact: HIGH)\n   Products or prices are not properly set up in Stripe\n\nüìã PRIORITY ACTIONS:\n1. Fix Critical Issues Immediately\n   These issues will completely prevent Stripe integration from working\n3. Complete Environment Configuration\n   Ensure all Stripe environment variables are properly set\n4. Implement Continuous Testing\n   Set up monitoring to catch issues early\n\nüìÑ Comprehensive report saved to: C:\\Users\\Ben\\OneDrive\\Documents\\GitHub\\DirectoryBolt\\stripe-comprehensive-test-report.json\n",
      "stderr": "‚ö†Ô∏è  [SECRET_KEY] Using mock secret key - API calls will fail \n‚ö†Ô∏è  [PRICE_IDS] STRIPE_STARTER_PRICE_ID appears to be a mock/test value { plan: 'starter', price_id: 'price_starter_test_123' }\n‚ö†Ô∏è  [PRICE_IDS] STRIPE_GROWTH_PRICE_ID appears to be a mock/test value { plan: 'growth', price_id: 'price_growth_test_123' }\n‚ö†Ô∏è  [PRICE_IDS] STRIPE_PROFESSIONAL_PRICE_ID appears to be a mock/test value { plan: 'professional', price_id: 'price_professional_test_123' }\n‚ö†Ô∏è  [PRICE_IDS] STRIPE_ENTERPRISE_PRICE_ID appears to be a mock/test value { plan: 'enterprise', price_id: 'price_enterprise_test_123' }\n‚ö†Ô∏è  [WEBHOOKS] STRIPE_WEBHOOK_SECRET is not set - webhooks may not work \n‚ö†Ô∏è  [CONNECTION] Cannot test connection - invalid or mock secret key \n‚ö†Ô∏è  [PRICE_VALIDATION] Cannot validate prices - invalid or mock secret key \n‚ö†Ô∏è  [INIT] Using mock Stripe key - cannot validate real products \n‚ö†Ô∏è  [LIST] Cannot list products - no Stripe connection \n‚ö†Ô∏è  [LIST] Cannot list prices - no Stripe connection \n‚ö†Ô∏è  [PRICE] Cannot validate price price_starter_test_123 - no Stripe connection \n‚ö†Ô∏è  [PRICE] Cannot validate price price_growth_test_123 - no Stripe connection \n‚ö†Ô∏è  [PRICE] Cannot validate price price_professional_test_123 - no Stripe connection \n‚ö†Ô∏è  [PRICE] Cannot validate price price_enterprise_test_123 - no Stripe connection \n‚ö†Ô∏è  [CREATE] Cannot create products - no Stripe connection \n‚ùå Test failed: Server Health Check (8106ms) {\n  \"error\": \"timeout of 5000ms exceeded\"\n}\n",
      "success": false,
      "timestamp": "2025-08-29T12:27:11.853Z"
    }
  },
  "final_recommendation": {
    "status": "READY_FOR_PRODUCTION",
    "message": "All systems are functioning correctly. Ready for production deployment.",
    "next_steps": [
      "Deploy to production environment",
      "Monitor payment flows",
      "Set up automated health checks"
    ],
    "confidence": "HIGH",
    "average_score": 100,
    "recommendations": []
  },
  "base_url": "http://localhost:3000"
}